======================================================================
  RTComponent: RTC_Spider2020_Crawler specificatioin

  OpenRTM-aist-1.0.0
  Date: $Date$

  This file is generated by rtc-template with the following argments.



======================================================================
    Basic Information
======================================================================
# <rtc-template block="module">
Module Name: RTC_Spider2020_Crawler
Description: Spider2020の台車制御RTC
Version:     2.0.0
Vendor:      AIZUK
Category:    Controller
Kind:        DataFlowComponent
Comp. Type:  STATIC
Act. Type:   PERIODIC
MAX Inst.:   1
Lang:        C++
Lang Type:

# </rtc-template>


======================================================================
    Activity definition
======================================================================

[on_initialize]    implemented

[on_finalize]

[on_startup]

[on_shutdown]

[on_activated]     implemented

[on_deactivated]   implemented

[on_execute]       implemented

[on_aborting]

[on_error]

[on_reset]

[on_state_update]

[on_rate_changed]

======================================================================
    InPorts definition
======================================================================
# <rtc-template block="inport">

	Name:        Mode_In
	PortNumber:  0
	Description: 動作指令の状態
	PortType:
	DataType:    RTC::TimedLongSeq
	MaxOut:
	[Data Elements]
		Name:
		Type:            TimedLongSeq
		Number:          6
		Semantics:
		Unit:
		Frequency:
		Operation Cycle:
		RangeLow:
		RangeHigh:
		DefaultValue:

	Name:        Velocity2D_In
	PortNumber:  1
	Description: ２次元の速度
	PortType:
	DataType:    RTC::TimedVelocity2D
	MaxOut:
	[Data Elements]
		Name:
		Type:            TimedVelocity2D
		Number:
		Semantics:
		Unit:
		Frequency:
		Operation Cycle:
		RangeLow:
		RangeHigh:
		DefaultValue:

	Name:        FlipperPwm_In
	PortNumber:  2
	Description: フリッパーのPWM指令
	PortType:
	DataType:    RTC::TimedLongSeq
	MaxOut:
	[Data Elements]
		Name:
		Type:            TimedLongSeq
		Number:          4
		Semantics:
		Unit:
		Frequency:
		Operation Cycle:
		RangeLow:
		RangeHigh:
		DefaultValue:

	Name:        Orientation3D_In
	PortNumber:  3
	Description: 外部観測した３次元の姿勢
	PortType:
	DataType:    RTC::TimedOrientation3D
	MaxOut:
	[Data Elements]
		Name:
		Type:            TimedOrientation3D
		Number:
		Semantics:
		Unit:
		Frequency:
		Operation Cycle:
		RangeLow:
		RangeHigh:
		DefaultValue:


# </rtc-template>

======================================================================
    OutPorts definition
======================================================================
# <rtc-template block="outport">

	Name:        Pose3D_Out
	PortNumber:  0
	Description: オドメトリによる３次元の位置・姿勢
	PortType:
	DataType:    RTC::TimedPose3D
	MaxOut:
	[Data Elements]
		Name:
		Type:            TimedPose3D
		Number:
		Semantics:
		Unit:            [m,rad]
		Frequency:
		Operation Cycle:
		RangeLow:
		RangeHigh:
		DefaultValue:

	Name:        Velocity2D_Out
	PortNumber:  1
	Description: ２次元の速度
	PortType:
	DataType:    RTC::TimedVelocity2D
	MaxOut:
	[Data Elements]
		Name:
		Type:            TimedVelocity2D
		Number:
		Semantics:
		Unit:
		Frequency:
		Operation Cycle:
		RangeLow:
		RangeHigh:
		DefaultValue:

	Name:        FlipperAngle_Out
	PortNumber:  2
	Description: フリッパーの角度
	PortType:
	DataType:    RTC::TimedDoubleSeq
	MaxOut:
	[Data Elements]
		Name:
		Type:            TimedDoubleSeq
		Number:          4
		Semantics:       [0]: 右前
		                 [1]: 左前
		                 [2]: 右後
		                 [3]: 左後
		Unit:
		Frequency:
		Operation Cycle:
		RangeLow:
		RangeHigh:
		DefaultValue:

	Name:        MotorLoad_Out
	PortNumber:  3
	Description: 各モータの負荷
	PortType:
	DataType:    RTC::TimedDoubleSeq
	MaxOut:
	[Data Elements]
		Name:
		Type:            TimedDoubleSeq
		Number:          6
		Semantics:       [0]: 右メインモータ
		                 [1]: 左メインモータ
		                 [2]: 右前方サブモータ
		                 [3]: 左前方サブモータ
		                 [4]: 右後方サブモータ
		                 [5]: 左後方サブモータ
		Unit:            [A]
		Frequency:
		Operation Cycle:
		RangeLow:
		RangeHigh:
		DefaultValue:


# </rtc-template>


======================================================================
    Service Port definition
======================================================================
# <rtc-template block="serviceport">
# </rtc-template>

======================================================================
    Configuration definition
======================================================================
# <rtc-template block="configuration">
	Configuration:
		Name:            メインクローラの車輪半径 WHEEL_RADIUS
		Description:     Wheel Radius
		Type:            double
		DefaultValue:    0.0769 0.0769
		Unit:            [m]
		Range:
		Constraint:

		Name:            フリッパーのプーリ半径 PULLEY_RADIUS
		Description:     Pulley Radius
		Type:            double
		DefaultValue:    0.0486 0.0486
		Unit:            [m]
		Range:
		Constraint:

		Name:            旋回半径 TURNING_RADIUS
		Description:     Turning Radius
		Type:            double
		DefaultValue:    0.0938 0.0938
		Unit:            [m]
		Range:
		Constraint:

		Name:            メインモータのデバイス名 SH1_DEVICE_NAME
		Description:     メインモータを制御するマイコンのデバイス名
		Type:            string
		DefaultValue:    /dev/ttyUSB0 /dev/ttyUSB0
		Unit:
		Range:
		Constraint:

		Name:            前方サブモータのデバイス名 SH2_DEVICE_NAME
		Description:     前方サブモータを制御するマイコンのデバイス名
		Type:            string
		DefaultValue:    /dev/ttyUSB1 /dev/ttyUSB1
		Unit:
		Range:
		Constraint:

		Name:            後方サブモータのデバイス名 SH3_DEVICE_NAME
		Description:     後方サブモータを制御するマイコンのデバイス名
		Type:            string
		DefaultValue:    /dev/ttyUSB2 /dev/ttyUSB2
		Unit:
		Range:
		Constraint:

		Name:            メインモータの伝送速度 SH1_BAUDRATE
		Description:     メインモータを制御するマイコンとの伝送速度
		Type:            string
		DefaultValue:    B38400 B38400
		Unit:
		Range:
		Constraint:

		Name:            前方サブモータの伝送速度 SH2_BAUDRATE
		Description:     前方サブモータを制御するマイコンとの伝送速度
		Type:            string
		DefaultValue:    B38400 B38400
		Unit:
		Range:
		Constraint:

		Name:            後方サブモータの伝送速度 SH3_BAUDRATE
		Description:     後方サブモータを制御するマイコンとの伝送速度
		Type:            string
		DefaultValue:    B38400 B38400
		Unit:
		Range:
		Constraint:

		Name:            メインモータの比例ゲイン MAIN_MOTOR_KP
		Description:     メインモータのPID速度制御の比例ゲイン
		Type:            double
		DefaultValue:    0.42 0.42
		Unit:
		Range:
		Constraint:

		Name:            メインモータの積分ゲイン MAIN_MOTOR_KI
		Description:     メインモータのPID速度制御の積分ゲイン
		Type:            double
		DefaultValue:    4.00 4.00
		Unit:
		Range:
		Constraint:

		Name:            メインモータの微分ゲイン MAIN_MOTOR_KD
		Description:     メインモータのPID速度制御の微分ゲイン
		Type:            double
		DefaultValue:    0.02 0.02
		Unit:
		Range:
		Constraint:

		Name:            並進係数 VX_GAIN
		Description:     オドメトリの並進距離を実測に近づけるための係数
		Type:            double
		DefaultValue:    1.000 1.000
		Unit:
		Range:
		Constraint:

		Name:            旋回係数 VA_GAIN
		Description:     オドメトリの旋回を実測に近づけるための係数
		Type:            double
		DefaultValue:    1.000 1.000
		Unit:
		Range:
		Constraint:

		Name:            メインモータのパルス数 MAIN_MOTOR_PULSE
		Description:     1000 = 500(パルス) x 2(逓倍)
		                 ※位相計数モード4
		Type:            long
		DefaultValue:    1000 1000
		Unit:
		Range:
		Constraint:

		Name:            メインモータの減速比 MAIN_MOTOR_GEAR_RATIO
		Description:     メインモータの減速比
		Type:            double
		DefaultValue:    243 243
		Unit:
		Range:
		Constraint:

		Name:            サブモータのパルス数 SUB_MOTOR_PULSE
		Description:     512 = 256(パルス) x 2(逓倍)
		                 ※位相計数モード4
		Type:            long
		DefaultValue:    512 512
		Unit:
		Range:
		Constraint:

		Name:            サブモータの減速比 SUB_MOTOR_GEAR_RATIO
		Description:     サブモータの減速比
		Type:            double
		DefaultValue:    1080.0 1080.0
		Unit:
		Range:
		Constraint:

		Name:            右メインモータの回転方向 R_MAIN_MOTOR_DIRECTION
		Description:     右メインモータの回転方向(1:正回転、-1:負回転)
		Type:            long
		DefaultValue:    1 1
		Unit:
		Range:
		Constraint:

		Name:            左メインモータの回転方向 L_MAIN_MOTOR_DIRECTION
		Description:     左メインモータの回転方向(1:正回転、-1:負回転)
		Type:            long
		DefaultValue:    1 1
		Unit:
		Range:
		Constraint:

		Name:            右前方モータの回転方向 R_FRONT_SUB_MOTOR_DIRECTION
		Description:     右前方モータの回転方向(1:正回転、-1:負回転)
		Type:            long
		DefaultValue:    1 1
		Unit:
		Range:
		Constraint:

		Name:            右前方モータの回転方向 L_FRONT_SUB_MOTOR_DIRECTION
		Description:     左前方モータの回転方向(1:正回転、-1:負回転)
		Type:            long
		DefaultValue:    1 1
		Unit:
		Range:
		Constraint:

		Name:            右後方モータの回転方向 R_BACK_SUB_MOTOR_DIRECTION
		Description:     右後方モータの回転方向(1:正回転、-1:負回転)
		Type:            long
		DefaultValue:    1 1
		Unit:
		Range:
		Constraint:

		Name:            左後方モータの回転方向 L_BACK_SUB_MOTOR_DIRECTION
		Description:     左後方モータの回転方向(1:正回転、-1:負回転)
		Type:            long
		DefaultValue:    1 1
		Unit:
		Range:
		Constraint:

		Name:            メインモータのモータ負荷のゲイン MAIN_MOTOR_LOAD_GAIN
		Description:     メインモータの電圧値をモータ負荷に変換するゲイ
		                 ン
		Type:            double
		DefaultValue:    7.5 7.5
		Unit:
		Range:
		Constraint:

		Name:            メインモータのモータ負荷の基準電圧 MAIN_MOTOR_LOAD_BASE
		Description:     メインモータの電圧値の基準値
		Type:            double
		DefaultValue:    2.0 2.0
		Unit:
		Range:
		Constraint:

		Name:            サブモータのモータ負荷のゲイン SUB_MOTOR_LOAD_GAIN
		Description:     サブモータの電圧値をモータ負荷に変換するゲイン
		Type:            double
		DefaultValue:    7.5 7.5
		Unit:
		Range:
		Constraint:

		Name:            サブモータのモータ負荷の基準電圧 SUB_MOTOR_LOAD_BASE
		Description:     サブモータの電圧値の基準値
		Type:            double
		DefaultValue:    2.0 2.0
		Unit:
		Range:
		Constraint:

		Name:            フェイルセーフ時間 FAILSAFE_SEC
		Description:     入力ポートへ指定時間以上新しい入力がなければ、
		                 暴走を回避するため入力データのクリアなどを実施
		                 する。
		Type:            double
		DefaultValue:    1.0 1.0
		Unit:
		Range:
		Constraint:

# </rtc-template>

This software is developed at the National Institute of Advanced
Industrial Science and Technology. Approval number H23PRO-????. This
software is licensed under the Lesser General Public License. See
COPYING.LESSER.

This area is reserved for future OpenRTM.
